<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Near Me - Services (Guest)</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-top: 30px;
            padding: 0 20px;
        }
        .card {
            background: rgba(255, 255, 255, 0.85);
            border-radius: 12px;
            text-align: center;
            padding: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            cursor: pointer;
            transition: all 0.3s ease-in-out;
        }
        .card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: transform 0.3s ease-in-out;
        }
        .services-heading {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        .services-heading img {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }
        .services-heading h2 {
            color: #2b5bcf;
            font-size: 26px;
            margin: 0;
        }
        .card p {
            margin: 0;
            font-size: 16px;
            color: #333;
            font-weight: 500;
        }
        .card:hover {
            background: #fff;
            transform: translateY(-8px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }
        .card:hover img {
            transform: scale(1.05);
        }
        .nav-right { display: flex; align-items: center; gap: 12px; }
        .login-btn, .location-btn, .Myprofile-btn {
            background-color: #2b5bcf;
            color: white;
            padding: 8px 14px;
            font-size: 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: background 0.3s;
        }
        .login-btn:hover, .location-btn:hover, .Myprofile-btn:hover { background-color: #1d3e91; }
        #location-status { font-size: 13px; color: #333; margin-left: 8px; }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.85);
            box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        }

        .slideshow-container {
            max-width: 900px;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            height: 150px; 
        }
        #top-ads-slideshow {
            margin-top: 10px;
        }
        .ad-slide {
            position: absolute; 
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0; 
            transition: opacity 0.8s ease-in-out;
        }
        .ad-slide.active {
            opacity: 1;
            z-index: 10;
        }
        .dot-container {
            position: absolute;
            bottom: 0;
            width: 100%;
            text-align: center;
            padding: 10px 0;
            background: rgba(0, 0, 0, 0.4); 
            z-index: 20;
        }
        .dot {
            cursor: pointer;
            height: 10px;
            width: 10px;
            margin: 0 4px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
        }
        .dot.active, .dot:hover {
            background-color: #fff; 
        }
        .H{
            background-color: rgb(44, 87, 147);
        }
    </style>
</head>
<body class="map-bg">

    <header class="H">
        <div class="logo-title">
            <img src="Ellipse 4.png" alt="Worker Logo">
            <div class="logo"><span style="color: red;">N</span>EAR<span style="color: red;">M</span>E</div>
        </div>
        <div class="nav-right">
            <button class="location-btn" onclick="getLocation()">üìç Location</button>
            <span id="location-status"></span>
            <button class="login-btn" onclick="window.location.href='login.html'">
                <img src="user.png" alt="Auth" style="width:16px; height:16px;"> Login
            </button>
        </div>
    </header>

    <div class="slideshow-container" id="top-ads-slideshow">
        <img class="ad-slide" src="ad1.png" alt="Advertisement 1">
        <img class="ad-slide" src="ad2.png" alt="Advertisement 2">
        <img class="ad-slide" src="ad3.png" alt="Advertisement 3">
        <img class="ad-slide" src="ad4.png" alt="Advertisement 4">
        <img class="ad-slide" src="ad5.png" alt="Advertisement 5">

        <div class="dot-container" id="top-ads-dots">
            <span class="dot" data-slide-index="0"></span>
            <span class="dot" data-slide-index="1"></span>
            <span class="dot" data-slide-index="2"></span>
            <span class="dot" data-slide-index="3"></span>
            <span class="dot" data-slide-index="4"></span>
        </div>
    </div>

    <div class="container" id="login">
        <div class="services-heading">
            <img src="service.png" alt="Services Logo">
            <h2 >Available Services</h2>
        </div>
        <p style=" text-align:center; color:black;text-decoration: overline;" >Choose the type of worker you need</p>
        <div class="grid">
            <div class="card" onclick="goToBooking('Cleaner')">
                <img src="cleaner.jpg" alt="Cleaner"><p>Cleaner</p>
            </div>
            <div class="card" onclick="goToBooking('Electrician')">
                <img src="electrician.jpg" alt="Electrician"><p>Electrician</p>
            </div>
            <div class="card" onclick="goToBooking('Plumber')">
                <img src="plumber.jpg" alt="Plumber"><p>Plumber</p>
            </div>
            <div class="card" onclick="goToBooking('Coolie')">
                <img src="coolie.jpg" alt="Coolie"><p>Coolie</p>
            </div>
            <div class="card" onclick="goToBooking('Mechanic')">
                <img src="mechanic.jpg" alt="Mechanic"><p>Mechanic</p>
            </div>
        </div>
    </div>

    <footer><a href="about.html">üìö About Us</a></footer>

    <script>
        // ‚úÖ Check login and redirect
        function goToBooking(service) {
            //const loggedIn = localStorage.getItem("loggedIn") === "true";
           // if (!loggedIn) {
                alert("Please login first to continue.");
                // Redirect to login.html with redirect to ar.html after login
                window.location.href = "login.html?redirect=ar.html";
                return;
            //}
            // If logged in ‚Üí go to booking
           // window.location.href = "booking.html?service=" + encodeURIComponent(service);
        }

        // --- Slideshow logic ---
        $(document).ready(function() {
            let currentIndex = 0;
            const slides = $('#top-ads-slideshow .ad-slide');
            const dots = $('#top-ads-dots .dot');
            const slideCount = slides.length;
            const fadeDuration = 800; 
            const intervalTime = 5000; 

            function showSlide(index) {
                if (index >= slideCount) index = 0;
                if (index < 0) index = slideCount - 1;

                slides.eq(currentIndex).removeClass('active').animate({ opacity: 0 }, fadeDuration);
                currentIndex = index; 
                slides.eq(currentIndex).css('z-index', 15).animate({ opacity: 1 }, fadeDuration, function() {
                    $(this).addClass('active').css('z-index', 10);
                });

                dots.removeClass('active');
                dots.eq(currentIndex).addClass('active');
            }

            slides.not(':first').css('opacity', 0);
            slides.eq(0).addClass('active').css('opacity', 1);
            dots.eq(0).addClass('active');
            let slideInterval = setInterval(() => showSlide(currentIndex + 1), intervalTime);

            dots.on('click', function() {
                clearInterval(slideInterval);
                const newIndex = $(this).data('slide-index');
                if (newIndex !== currentIndex) {
                    showSlide(newIndex);
                }
                slideInterval = setInterval(() => showSlide(currentIndex + 1), intervalTime);
            });
        });

        function getLocation() {
            let status = document.getElementById("location-status");
            if (navigator.geolocation) {
                status.innerText = "Fetching...";
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else { status.innerText = "Not supported."; }
        }
        function showPosition(position) {
            document.getElementById("location-status").innerText =
                position.coords.latitude.toFixed(2) + ", " + position.coords.longitude.toFixed(2);
        }
        function showError() { document.getElementById("location-status").innerText = "Location error"; }
    </script>
</body>
</html>